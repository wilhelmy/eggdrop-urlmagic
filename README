urlmagic by rojo and ente

Description:

Does following magic things with URLs:
  * Follows links posted in a channel if the udef flag +urlmagic is set
  * If content-type ~ text/html and <title>content exists</title> display title
  * Otherwise, display content-type
  * If url length > threshold, fetch and display tinyurl

Optional features:

Plugins exist for:

  * Optionally recording all URLs to your Twitter page or an SQLite database
  * Flagging links as NSFW if it was mentioned in the text next to the link
  * Displaying the size of a page
  * Displaying the final destination URL in case there was a redirect

In short, what's displayed and what isn't can be influenced by plugins.

This script needs at least the following packages: http, tls and tcllib (for hook)
It is advised to also install either gumbo or arabica to use the more fail-safe
title parser. Your eggdrop needs to be compiled against Tcl 8.5 or higher. Tcl 8.4
and below are at least untested, but probably won't work at all.

Use your distribution's package management system to install the dependencies
as appropriate.

Examples:

Debian / Ubuntu:
    apt-get install tcllib tcl-tls  (no matter what plugins are enabled; "core")
    apt-get install libsqlite3-tcl  (if sqlite plugin is enabled)
    apt-get install tdom            (if twitter plugin is enabled)

Red Hat / CentOS:
    yum install tcllib tcltls       (core)
    yum install sqlite-tcl          (sqlite plugin)
    yum install tdom                (twitter plugin)

OpenSuSE:
    zypper install tcllib tls       (core)
    zypper install tdom             (twitter plugin)
    (sqlite plugin does not require extra packages to be installed)

Gentoo:
    emerge -v tcllib dev-tcltk/tls  (core)
    emerge -v sqlite                (sqlite plugin)
    emerge -v tdom                  (twitter plugin)

FreeBSD (port names):
    devel/tcllib devel/tcltls       (core)
    databases/tcl-sqlite3           (sqlite)
    www/tdom                        (twitter)

NetBSD (pkgsrc package names):
    devel/tcllib security/tcl-tls   (core)
    databases/sqlite3               (sqlite)
    textproc/tcl-tDOM               (twitter)

Please report bugs, gripes, missing operating systems in the table above, etc
to ente on IRCnet, and feel free to let me know if you use it, or just contact
me for chit-chat.

